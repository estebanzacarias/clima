{"ast":null,"code":"var _jsxFileName = \"/home/estebanzacarias/mi-github/technical-test/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./components/Header\";\nimport Form from \"./components/Form\";\nimport Weather from \"./components/Weather\";\n\nfunction App() {\n  const [busqueda, setBusqueda] = useState({\n    ciudad: ''\n  });\n  const [coordenadas, setCoordenadas] = useState({\n    lat: 0,\n    lon: 0\n  });\n  const [ciudadactual, setCiudadActual] = useState('');\n  const [consultar, setConsultar] = useState(false);\n  const [result, setResult] = useState({});\n  var {\n    ciudad\n  } = busqueda;\n  const {\n    lat,\n    lon\n  } = coordenadas;\n  let appID = \"43be803cda4c15118db76dc833cab21b\";\n  useEffect(() => {\n    const consultarApi = async () => {\n      if (consultar) {\n        var url = `https://api.openweathermap.org/data/2.5/forecast?q=${ciudad}&cnt=6&appid=${appID}`;\n        const response = await fetch(url);\n        const result = await response.json();\n        setResult(result);\n      } else {\n        navigator.geolocation.getCurrentPosition(position => {\n          setCoordenadas({\n            lat: position.coords.latitude,\n            lon: position.coords.longitude\n          });\n        });\n        url = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&cnt=6&appid=${appID}`;\n        const response = await fetch(url);\n        const result = await response.json();\n        setResult(result);\n        setCiudadActual(result.city.name);\n      }\n    };\n\n    consultarApi();\n  }, [consultar, ciudad, lat, lon, appID]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    titulo: \"Weather Forecast\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col m6 s12 card grey\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    ciudadactual: ciudadactual,\n    busqueda: busqueda,\n    setBusqueda: setBusqueda,\n    setConsultar: setConsultar,\n    ciudad: ciudad,\n    result: result,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 18\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col m6 s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Weather, {\n    result: result,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/estebanzacarias/mi-github/technical-test/src/App.js"],"names":["React","useState","useEffect","Header","Form","Weather","App","busqueda","setBusqueda","ciudad","coordenadas","setCoordenadas","lat","lon","ciudadactual","setCiudadActual","consultar","setConsultar","result","setResult","appID","consultarApi","url","response","fetch","json","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","city","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport Header from \"./components/Header\";\nimport Form from \"./components/Form\";\nimport Weather from \"./components/Weather\";\n\nfunction App() {\n  \n  const [ busqueda, setBusqueda ] = useState({ciudad: ''});\n\n  const [ coordenadas, setCoordenadas ] = useState({\n    lat: 0,\n    lon: 0\n  });\n  \n  const [ ciudadactual, setCiudadActual ] = useState('');\n\n  const [ consultar, setConsultar ] = useState(false);\n\n  const [ result, setResult ] = useState({});\n\n  var { ciudad } = busqueda;\n\n  const { lat, lon } = coordenadas;\n\n  let appID = \"43be803cda4c15118db76dc833cab21b\";\n\n  useEffect(() => {\n     const consultarApi = async () => {\n        if(consultar){\n          var url = `https://api.openweathermap.org/data/2.5/forecast?q=${ciudad}&cnt=6&appid=${appID}`;\n        \n          const response = await fetch(url);\n          const result = await response.json();\n          \n          setResult(result);\n        }\n        else {\n           navigator.geolocation.getCurrentPosition(position => {\n             setCoordenadas({\n                lat: position.coords.latitude,\n                lon: position.coords.longitude\n             })\n           });\n\n           url = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&cnt=6&appid=${appID}`;\n\n           const response = await fetch(url);\n           const result = await response.json();\n\n           setResult(result);\n           setCiudadActual(result.city.name);\n        } \n     }\n     consultarApi();\n  }, [consultar, ciudad, lat, lon, appID]);\n\n  return (\n    <>\n      <Header titulo=\"Weather Forecast\" />\n      \n      <div className=\"container\"> \n         <div className=\"row\">\n            <div className=\"col m6 s12 card grey\">\n                 <Form ciudadactual={ciudadactual} busqueda={busqueda} setBusqueda={setBusqueda} setConsultar={setConsultar} ciudad={ciudad} result={result} />\n            </div>\n\n            <div className=\"col m6 s12\">\n                <Weather result={result}/>\n            </div>\n         </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}